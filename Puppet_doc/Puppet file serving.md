
# Puppet Module: Managing Files

## Overview

This documentation provides an explanation and examples of managing files in Puppet using static and dynamic file sources. It also outlines the file structure for organizing static files within a Puppet module.

---

## Dynamic Files Example

Dynamic files are specified using the `content` attribute in a `file` resource. They allow embedding content directly or sourcing it from templates.

### Example: Dynamic File with Embedded Content

```puppet
file { '/tmp/example_dynamic.txt':
  ensure  => file,
  content => "This is a dynamically created file.\nGenerated by Puppet.",
  mode    => '0644',
  owner   => 'root',
  group   => 'root',
}
````

### Example: Dynamic File with Template

```puppet
file { '/etc/myconfig.conf':
  ensure  => file,
  content => template('my_module/config_template.erb'),
  mode    => '0644',
  owner   => 'root',
  group   => 'root',
}
```

In this case, the file's content is generated dynamically from the `config_template.erb` template located in the module's `templates` directory.

---

## Static Files Example

Static files are pre-created files stored within the module and delivered to nodes as-is.

### Example: Static File from `files` Directory

```puppet
file { '/usr/local/bin/script.sh':
  ensure => file,
  source => 'puppet:///modules/my_module/script.sh',
  mode   => '0755',
  owner  => 'root',
  group  => 'root',
}
```

Here, `script.sh` is a static file stored in the module's `files` directory. Puppet retrieves and places it on the node.

---

## File Structure for Static Files

To properly organize static files in a Puppet module, follow the recommended structure:

```
my_module/
├── manifests/
│   └── init.pp         # Main manifest
├── files/
│   ├── script.sh       # Static file
│   ├── config.json     # Additional static file
├── templates/
│   └── config_template.erb  # Template file
└── metadata.json       # Metadata for the module
```

### Explanation of Directories

- `manifests/`: Contains all Puppet manifests.
- `files/`: Stores all static files that can be used with the `source` attribute.
- `templates/`: Contains ERB or EPP template files for generating dynamic content.

---

## Conclusion

By leveraging both dynamic and static files in Puppet modules, you can manage various types of content efficiently. Following the recommended file structure ensures clarity and modularity for your Puppet projects.